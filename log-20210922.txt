2021-09-22 15:51:26.317 +02:00 [INF] Application started
2021-09-22 15:51:31.161 +02:00 [INF] User profile is available. Using 'C:\Users\moh_a\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-22 15:51:32.186 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-22 15:51:32.186 +02:00 [INF] Hosting environment: Development
2021-09-22 15:51:32.186 +02:00 [INF] Content root path: C:\Users\moh_a\source\repos\Api\SpatulaApi
2021-09-22 15:51:32.309 +02:00 [INF] Request starting HTTP/1.1 HEAD https://localhost:44345/ - -
2021-09-22 15:51:32.309 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44345/swagger/index.html - -
2021-09-22 15:51:32.745 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44345/swagger/index.html - - - 200 - text/html;charset=utf-8 439.8158ms
2021-09-22 15:51:32.835 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44345/swagger/swagger-ui.css - -
2021-09-22 15:51:32.918 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-09-22 15:51:32.918 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44345/swagger/swagger-ui.css - - - 0 142933 text/css 82.7970ms
2021-09-22 15:51:32.981 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index(System.String) on controller SpatulaApi.Controllers.HomeController (SpatulaApi).
2021-09-22 15:51:33.042 +02:00 [INF] Executing ViewResult, running view Index.
2021-09-22 15:51:33.075 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44345/swagger/favicon-16x16.png - -
2021-09-22 15:51:33.078 +02:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2021-09-22 15:51:33.078 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44345/swagger/favicon-16x16.png - - - 0 665 image/png 2.7614ms
2021-09-22 15:51:33.175 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44345/swagger/v1/swagger.json - -
2021-09-22 15:51:33.435 +02:00 [INF] Executed ViewResult - view Index executed in 408.717ms.
2021-09-22 15:51:33.438 +02:00 [INF] Executed action SpatulaApi.Controllers.HomeController.Index (SpatulaApi) in 456.3324ms
2021-09-22 15:51:33.445 +02:00 [INF] Request finished HTTP/1.1 HEAD https://localhost:44345/ - - - 200 - text/html;+charset=utf-8 1142.9183ms
2021-09-22 15:51:33.460 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44345/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 284.5618ms
2021-09-22 15:51:59.220 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44345/api/Account/facebookregister?accessToken=EAAHKCEbgzNIBANkCtZBZCY1j6OiNtFvCBWjwLvhCO5gver9M297lZCAI6ubZCFwgONNRQecpohZBgAXZBZBpZBBQNpCngv0dqCL27AoU3DwEfnmxtN4mpxSG80BPgrmWYvYU1EKG5zbjGGOR7xOKz2tBoErqEO5U1iUxC6X1RfEuUzBPY2NVe625eu67pFVhWnZCwZCYRlbPonpTXtynT3vKyUYSi5rA3ai0vPoIaEc40XtAZDZD - 0
2021-09-22 15:51:59.233 +02:00 [INF] CORS policy execution successful.
2021-09-22 15:51:59.294 +02:00 [INF] Executing endpoint 'SpatulaApi.Controllers.Api.AccountController.RegisterFacebook (SpatulaApi)'
2021-09-22 15:51:59.325 +02:00 [INF] Route matched with {action = "RegisterFacebook", controller = "Account", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterFacebook(System.String) on controller SpatulaApi.Controllers.Api.AccountController (SpatulaApi).
2021-09-22 15:52:00.292 +02:00 [INF] Start processing HTTP request GET "https://graph.facebook.com/debug_token?input_token=EAAHKCEbgzNIBANkCtZBZCY1j6OiNtFvCBWjwLvhCO5gver9M297lZCAI6ubZCFwgONNRQecpohZBgAXZBZBpZBBQNpCngv0dqCL27AoU3DwEfnmxtN4mpxSG80BPgrmWYvYU1EKG5zbjGGOR7xOKz2tBoErqEO5U1iUxC6X1RfEuUzBPY2NVe625eu67pFVhWnZCwZCYRlbPonpTXtynT3vKyUYSi5rA3ai0vPoIaEc40XtAZDZD&access_token=503611874397394|a704cac1e92bf9c748f6bee2664cda59"
2021-09-22 15:52:00.296 +02:00 [INF] Sending HTTP request GET "https://graph.facebook.com/debug_token?input_token=EAAHKCEbgzNIBANkCtZBZCY1j6OiNtFvCBWjwLvhCO5gver9M297lZCAI6ubZCFwgONNRQecpohZBgAXZBZBpZBBQNpCngv0dqCL27AoU3DwEfnmxtN4mpxSG80BPgrmWYvYU1EKG5zbjGGOR7xOKz2tBoErqEO5U1iUxC6X1RfEuUzBPY2NVe625eu67pFVhWnZCwZCYRlbPonpTXtynT3vKyUYSi5rA3ai0vPoIaEc40XtAZDZD&access_token=503611874397394|a704cac1e92bf9c748f6bee2664cda59"
2021-09-22 15:52:01.746 +02:00 [INF] Received HTTP response headers after 1444.2987ms - 200
2021-09-22 15:52:01.748 +02:00 [INF] End processing HTTP request after 1458.4491ms - 200
2021-09-22 15:52:02.064 +02:00 [INF] Start processing HTTP request GET "https://graph.facebook.com/me?fields=id,name,email,picture&access_token=EAAHKCEbgzNIBANkCtZBZCY1j6OiNtFvCBWjwLvhCO5gver9M297lZCAI6ubZCFwgONNRQecpohZBgAXZBZBpZBBQNpCngv0dqCL27AoU3DwEfnmxtN4mpxSG80BPgrmWYvYU1EKG5zbjGGOR7xOKz2tBoErqEO5U1iUxC6X1RfEuUzBPY2NVe625eu67pFVhWnZCwZCYRlbPonpTXtynT3vKyUYSi5rA3ai0vPoIaEc40XtAZDZD"
2021-09-22 15:52:02.064 +02:00 [INF] Sending HTTP request GET "https://graph.facebook.com/me?fields=id,name,email,picture&access_token=EAAHKCEbgzNIBANkCtZBZCY1j6OiNtFvCBWjwLvhCO5gver9M297lZCAI6ubZCFwgONNRQecpohZBgAXZBZBpZBBQNpCngv0dqCL27AoU3DwEfnmxtN4mpxSG80BPgrmWYvYU1EKG5zbjGGOR7xOKz2tBoErqEO5U1iUxC6X1RfEuUzBPY2NVe625eu67pFVhWnZCwZCYRlbPonpTXtynT3vKyUYSi5rA3ai0vPoIaEc40XtAZDZD"
2021-09-22 15:52:02.292 +02:00 [INF] Received HTTP response headers after 228.4852ms - 200
2021-09-22 15:52:02.293 +02:00 [INF] End processing HTTP request after 229.0026ms - 200
2021-09-22 15:52:02.593 +02:00 [INF] Executed action SpatulaApi.Controllers.Api.AccountController.RegisterFacebook (SpatulaApi) in 3267.0029ms
2021-09-22 15:52:02.595 +02:00 [INF] Executed endpoint 'SpatulaApi.Controllers.Api.AccountController.RegisterFacebook (SpatulaApi)'
2021-09-22 15:52:02.604 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'email')
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByEmailAsync(String email)
   at SpatulaApi.Controllers.Api.AccountController.RegisterFacebook(String accessToken) in C:\Users\moh_a\source\repos\Api\SpatulaApi\Controllers\Api\AccountController.cs:line 172
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-09-22 15:52:02.799 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44345/api/Account/facebookregister?accessToken=EAAHKCEbgzNIBANkCtZBZCY1j6OiNtFvCBWjwLvhCO5gver9M297lZCAI6ubZCFwgONNRQecpohZBgAXZBZBpZBBQNpCngv0dqCL27AoU3DwEfnmxtN4mpxSG80BPgrmWYvYU1EKG5zbjGGOR7xOKz2tBoErqEO5U1iUxC6X1RfEuUzBPY2NVe625eu67pFVhWnZCwZCYRlbPonpTXtynT3vKyUYSi5rA3ai0vPoIaEc40XtAZDZD - 0 - 500 - text/plain 3579.4000ms
2021-09-22 15:53:03.963 +02:00 [INF] Application started
2021-09-22 15:53:06.889 +02:00 [INF] User profile is available. Using 'C:\Users\moh_a\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-22 15:53:07.702 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-22 15:53:07.702 +02:00 [INF] Hosting environment: Development
2021-09-22 15:53:07.702 +02:00 [INF] Content root path: C:\Users\moh_a\source\repos\Api\SpatulaApi
2021-09-22 15:53:07.800 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44345/swagger/index.html - -
2021-09-22 15:53:08.062 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44345/swagger/index.html - - - 200 - text/html;charset=utf-8 268.2343ms
2021-09-22 15:53:08.393 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44345/swagger/v1/swagger.json - -
2021-09-22 15:53:08.716 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44345/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 323.1282ms
2021-09-22 15:53:10.113 +02:00 [INF] Request starting HTTP/1.1 HEAD https://localhost:44345/ - -
2021-09-22 15:53:10.545 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index(System.String) on controller SpatulaApi.Controllers.HomeController (SpatulaApi).
2021-09-22 15:53:10.605 +02:00 [INF] Executing ViewResult, running view Index.
2021-09-22 15:53:10.909 +02:00 [INF] Executed ViewResult - view Index executed in 319.8546ms.
2021-09-22 15:53:10.911 +02:00 [INF] Executed action SpatulaApi.Controllers.HomeController.Index (SpatulaApi) in 365.4344ms
2021-09-22 15:53:10.917 +02:00 [INF] Request finished HTTP/1.1 HEAD https://localhost:44345/ - - - 200 - text/html;+charset=utf-8 803.5607ms
2021-09-22 15:53:14.631 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44345/api/Account/facebookregister?accessToken=EAAHKCEbgzNIBANkCtZBZCY1j6OiNtFvCBWjwLvhCO5gver9M297lZCAI6ubZCFwgONNRQecpohZBgAXZBZBpZBBQNpCngv0dqCL27AoU3DwEfnmxtN4mpxSG80BPgrmWYvYU1EKG5zbjGGOR7xOKz2tBoErqEO5U1iUxC6X1RfEuUzBPY2NVe625eu67pFVhWnZCwZCYRlbPonpTXtynT3vKyUYSi5rA3ai0vPoIaEc40XtAZDZD - 0
2021-09-22 15:53:14.639 +02:00 [INF] CORS policy execution successful.
2021-09-22 15:53:14.655 +02:00 [INF] Executing endpoint 'SpatulaApi.Controllers.Api.AccountController.RegisterFacebook (SpatulaApi)'
2021-09-22 15:53:14.677 +02:00 [INF] Route matched with {action = "RegisterFacebook", controller = "Account", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterFacebook(System.String) on controller SpatulaApi.Controllers.Api.AccountController (SpatulaApi).
2021-09-22 15:53:15.509 +02:00 [INF] Start processing HTTP request GET "https://graph.facebook.com/debug_token?input_token=EAAHKCEbgzNIBANkCtZBZCY1j6OiNtFvCBWjwLvhCO5gver9M297lZCAI6ubZCFwgONNRQecpohZBgAXZBZBpZBBQNpCngv0dqCL27AoU3DwEfnmxtN4mpxSG80BPgrmWYvYU1EKG5zbjGGOR7xOKz2tBoErqEO5U1iUxC6X1RfEuUzBPY2NVe625eu67pFVhWnZCwZCYRlbPonpTXtynT3vKyUYSi5rA3ai0vPoIaEc40XtAZDZD&access_token=503611874397394|a704cac1e92bf9c748f6bee2664cda59"
2021-09-22 15:53:15.513 +02:00 [INF] Sending HTTP request GET "https://graph.facebook.com/debug_token?input_token=EAAHKCEbgzNIBANkCtZBZCY1j6OiNtFvCBWjwLvhCO5gver9M297lZCAI6ubZCFwgONNRQecpohZBgAXZBZBpZBBQNpCngv0dqCL27AoU3DwEfnmxtN4mpxSG80BPgrmWYvYU1EKG5zbjGGOR7xOKz2tBoErqEO5U1iUxC6X1RfEuUzBPY2NVe625eu67pFVhWnZCwZCYRlbPonpTXtynT3vKyUYSi5rA3ai0vPoIaEc40XtAZDZD&access_token=503611874397394|a704cac1e92bf9c748f6bee2664cda59"
2021-09-22 15:53:16.272 +02:00 [INF] Received HTTP response headers after 751.4332ms - 200
2021-09-22 15:53:16.275 +02:00 [INF] End processing HTTP request after 772.7779ms - 200
2021-09-22 15:53:16.571 +02:00 [INF] Start processing HTTP request GET "https://graph.facebook.com/me?fields=id,name,email,picture&access_token=EAAHKCEbgzNIBANkCtZBZCY1j6OiNtFvCBWjwLvhCO5gver9M297lZCAI6ubZCFwgONNRQecpohZBgAXZBZBpZBBQNpCngv0dqCL27AoU3DwEfnmxtN4mpxSG80BPgrmWYvYU1EKG5zbjGGOR7xOKz2tBoErqEO5U1iUxC6X1RfEuUzBPY2NVe625eu67pFVhWnZCwZCYRlbPonpTXtynT3vKyUYSi5rA3ai0vPoIaEc40XtAZDZD"
2021-09-22 15:53:16.571 +02:00 [INF] Sending HTTP request GET "https://graph.facebook.com/me?fields=id,name,email,picture&access_token=EAAHKCEbgzNIBANkCtZBZCY1j6OiNtFvCBWjwLvhCO5gver9M297lZCAI6ubZCFwgONNRQecpohZBgAXZBZBpZBBQNpCngv0dqCL27AoU3DwEfnmxtN4mpxSG80BPgrmWYvYU1EKG5zbjGGOR7xOKz2tBoErqEO5U1iUxC6X1RfEuUzBPY2NVe625eu67pFVhWnZCwZCYRlbPonpTXtynT3vKyUYSi5rA3ai0vPoIaEc40XtAZDZD"
2021-09-22 15:53:16.724 +02:00 [INF] Received HTTP response headers after 152.5353ms - 200
2021-09-22 15:53:16.724 +02:00 [INF] End processing HTTP request after 153.1828ms - 200
2021-09-22 15:53:16.940 +02:00 [INF] Executed action SpatulaApi.Controllers.Api.AccountController.RegisterFacebook (SpatulaApi) in 2262.8292ms
2021-09-22 15:53:16.941 +02:00 [INF] Executed endpoint 'SpatulaApi.Controllers.Api.AccountController.RegisterFacebook (SpatulaApi)'
2021-09-22 15:53:16.950 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'email')
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByEmailAsync(String email)
   at SpatulaApi.Controllers.Api.AccountController.RegisterFacebook(String accessToken) in C:\Users\moh_a\source\repos\Api\SpatulaApi\Controllers\Api\AccountController.cs:line 174
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-09-22 15:53:17.115 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44345/api/Account/facebookregister?accessToken=EAAHKCEbgzNIBANkCtZBZCY1j6OiNtFvCBWjwLvhCO5gver9M297lZCAI6ubZCFwgONNRQecpohZBgAXZBZBpZBBQNpCngv0dqCL27AoU3DwEfnmxtN4mpxSG80BPgrmWYvYU1EKG5zbjGGOR7xOKz2tBoErqEO5U1iUxC6X1RfEuUzBPY2NVe625eu67pFVhWnZCwZCYRlbPonpTXtynT3vKyUYSi5rA3ai0vPoIaEc40XtAZDZD - 0 - 500 - text/plain 2484.6436ms
2021-09-22 15:55:49.552 +02:00 [INF] Application started
2021-09-22 15:55:52.314 +02:00 [INF] User profile is available. Using 'C:\Users\moh_a\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-22 15:55:53.080 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-22 15:55:53.080 +02:00 [INF] Hosting environment: Development
2021-09-22 15:55:53.080 +02:00 [INF] Content root path: C:\Users\moh_a\source\repos\Api\SpatulaApi
2021-09-22 15:55:53.161 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44345/swagger/index.html - -
2021-09-22 15:55:53.418 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44345/swagger/index.html - - - 200 - text/html;charset=utf-8 260.9032ms
2021-09-22 15:55:53.787 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44345/swagger/v1/swagger.json - -
2021-09-22 15:55:54.054 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44345/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 266.8982ms
2021-09-22 15:55:55.764 +02:00 [INF] Request starting HTTP/1.1 HEAD https://localhost:44345/ - -
2021-09-22 15:55:56.180 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index(System.String) on controller SpatulaApi.Controllers.HomeController (SpatulaApi).
2021-09-22 15:55:56.242 +02:00 [INF] Executing ViewResult, running view Index.
2021-09-22 15:55:56.532 +02:00 [INF] Executed ViewResult - view Index executed in 297.8168ms.
2021-09-22 15:55:56.536 +02:00 [INF] Executed action SpatulaApi.Controllers.HomeController.Index (SpatulaApi) in 353.4968ms
2021-09-22 15:55:56.543 +02:00 [INF] Request finished HTTP/1.1 HEAD https://localhost:44345/ - - - 200 - text/html;+charset=utf-8 779.3824ms
2021-09-22 15:55:59.617 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44345/api/Account/facebookregister?accessToken=EAAHKCEbgzNIBANkCtZBZCY1j6OiNtFvCBWjwLvhCO5gver9M297lZCAI6ubZCFwgONNRQecpohZBgAXZBZBpZBBQNpCngv0dqCL27AoU3DwEfnmxtN4mpxSG80BPgrmWYvYU1EKG5zbjGGOR7xOKz2tBoErqEO5U1iUxC6X1RfEuUzBPY2NVe625eu67pFVhWnZCwZCYRlbPonpTXtynT3vKyUYSi5rA3ai0vPoIaEc40XtAZDZD - 0
2021-09-22 15:55:59.625 +02:00 [INF] CORS policy execution successful.
2021-09-22 15:55:59.649 +02:00 [INF] Executing endpoint 'SpatulaApi.Controllers.Api.AccountController.RegisterFacebook (SpatulaApi)'
2021-09-22 15:55:59.669 +02:00 [INF] Route matched with {action = "RegisterFacebook", controller = "Account", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterFacebook(System.String) on controller SpatulaApi.Controllers.Api.AccountController (SpatulaApi).
2021-09-22 15:56:00.524 +02:00 [INF] Start processing HTTP request GET "https://graph.facebook.com/debug_token?input_token=EAAHKCEbgzNIBANkCtZBZCY1j6OiNtFvCBWjwLvhCO5gver9M297lZCAI6ubZCFwgONNRQecpohZBgAXZBZBpZBBQNpCngv0dqCL27AoU3DwEfnmxtN4mpxSG80BPgrmWYvYU1EKG5zbjGGOR7xOKz2tBoErqEO5U1iUxC6X1RfEuUzBPY2NVe625eu67pFVhWnZCwZCYRlbPonpTXtynT3vKyUYSi5rA3ai0vPoIaEc40XtAZDZD&access_token=503611874397394|a704cac1e92bf9c748f6bee2664cda59"
2021-09-22 15:56:00.528 +02:00 [INF] Sending HTTP request GET "https://graph.facebook.com/debug_token?input_token=EAAHKCEbgzNIBANkCtZBZCY1j6OiNtFvCBWjwLvhCO5gver9M297lZCAI6ubZCFwgONNRQecpohZBgAXZBZBpZBBQNpCngv0dqCL27AoU3DwEfnmxtN4mpxSG80BPgrmWYvYU1EKG5zbjGGOR7xOKz2tBoErqEO5U1iUxC6X1RfEuUzBPY2NVe625eu67pFVhWnZCwZCYRlbPonpTXtynT3vKyUYSi5rA3ai0vPoIaEc40XtAZDZD&access_token=503611874397394|a704cac1e92bf9c748f6bee2664cda59"
2021-09-22 15:56:01.510 +02:00 [INF] Received HTTP response headers after 971.9041ms - 200
2021-09-22 15:56:01.513 +02:00 [INF] End processing HTTP request after 994.4988ms - 200
2021-09-22 15:56:01.846 +02:00 [INF] Start processing HTTP request GET "https://graph.facebook.com/me?fields=id,name,email,picture&access_token=EAAHKCEbgzNIBANkCtZBZCY1j6OiNtFvCBWjwLvhCO5gver9M297lZCAI6ubZCFwgONNRQecpohZBgAXZBZBpZBBQNpCngv0dqCL27AoU3DwEfnmxtN4mpxSG80BPgrmWYvYU1EKG5zbjGGOR7xOKz2tBoErqEO5U1iUxC6X1RfEuUzBPY2NVe625eu67pFVhWnZCwZCYRlbPonpTXtynT3vKyUYSi5rA3ai0vPoIaEc40XtAZDZD"
2021-09-22 15:56:01.846 +02:00 [INF] Sending HTTP request GET "https://graph.facebook.com/me?fields=id,name,email,picture&access_token=EAAHKCEbgzNIBANkCtZBZCY1j6OiNtFvCBWjwLvhCO5gver9M297lZCAI6ubZCFwgONNRQecpohZBgAXZBZBpZBBQNpCngv0dqCL27AoU3DwEfnmxtN4mpxSG80BPgrmWYvYU1EKG5zbjGGOR7xOKz2tBoErqEO5U1iUxC6X1RfEuUzBPY2NVe625eu67pFVhWnZCwZCYRlbPonpTXtynT3vKyUYSi5rA3ai0vPoIaEc40XtAZDZD"
2021-09-22 15:56:02.182 +02:00 [INF] Received HTTP response headers after 336.3221ms - 200
2021-09-22 15:56:02.183 +02:00 [INF] End processing HTTP request after 336.9888ms - 200
2021-09-22 15:56:02.391 +02:00 [INF] Executed action SpatulaApi.Controllers.Api.AccountController.RegisterFacebook (SpatulaApi) in 2722.3377ms
2021-09-22 15:56:02.393 +02:00 [INF] Executed endpoint 'SpatulaApi.Controllers.Api.AccountController.RegisterFacebook (SpatulaApi)'
2021-09-22 15:56:02.401 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'email')
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByEmailAsync(String email)
   at SpatulaApi.Controllers.Api.AccountController.RegisterFacebook(String accessToken) in C:\Users\moh_a\source\repos\Api\SpatulaApi\Controllers\Api\AccountController.cs:line 174
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-09-22 15:56:02.562 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44345/api/Account/facebookregister?accessToken=EAAHKCEbgzNIBANkCtZBZCY1j6OiNtFvCBWjwLvhCO5gver9M297lZCAI6ubZCFwgONNRQecpohZBgAXZBZBpZBBQNpCngv0dqCL27AoU3DwEfnmxtN4mpxSG80BPgrmWYvYU1EKG5zbjGGOR7xOKz2tBoErqEO5U1iUxC6X1RfEuUzBPY2NVe625eu67pFVhWnZCwZCYRlbPonpTXtynT3vKyUYSi5rA3ai0vPoIaEc40XtAZDZD - 0 - 500 - text/plain 2945.0339ms
2021-09-22 15:57:22.901 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44345/api/Account/facebookregister?accessToken=EAAHKCEbgzNIBACdZAJwoJgWum260kR3ZBETLhZBgEXXUwew1SSPbF9zCi76IAEToc6zc374TjxOGUZCuubxB9LJmbcb11a8sXd0DZBasQzQkdkytNQUNZBhPPNevYnyyrlVPrwLlIBoKJaZBHUzC6uUmr4NxqDrxZBXjrjZC0eI4e74vjbRGMgBtkRuxm7JiqIJDAQkTZAADcn63v46XfnqWAFR57x8bkk70x2IqGYJPPKTQZDZD - 0
2021-09-22 15:57:22.913 +02:00 [INF] CORS policy execution successful.
2021-09-22 15:57:22.924 +02:00 [INF] Executing endpoint 'SpatulaApi.Controllers.Api.AccountController.RegisterFacebook (SpatulaApi)'
2021-09-22 15:57:22.925 +02:00 [INF] Route matched with {action = "RegisterFacebook", controller = "Account", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterFacebook(System.String) on controller SpatulaApi.Controllers.Api.AccountController (SpatulaApi).
2021-09-22 15:57:22.945 +02:00 [INF] Start processing HTTP request GET "https://graph.facebook.com/debug_token?input_token=EAAHKCEbgzNIBACdZAJwoJgWum260kR3ZBETLhZBgEXXUwew1SSPbF9zCi76IAEToc6zc374TjxOGUZCuubxB9LJmbcb11a8sXd0DZBasQzQkdkytNQUNZBhPPNevYnyyrlVPrwLlIBoKJaZBHUzC6uUmr4NxqDrxZBXjrjZC0eI4e74vjbRGMgBtkRuxm7JiqIJDAQkTZAADcn63v46XfnqWAFR57x8bkk70x2IqGYJPPKTQZDZD&access_token=503611874397394|a704cac1e92bf9c748f6bee2664cda59"
2021-09-22 15:57:22.945 +02:00 [INF] Sending HTTP request GET "https://graph.facebook.com/debug_token?input_token=EAAHKCEbgzNIBACdZAJwoJgWum260kR3ZBETLhZBgEXXUwew1SSPbF9zCi76IAEToc6zc374TjxOGUZCuubxB9LJmbcb11a8sXd0DZBasQzQkdkytNQUNZBhPPNevYnyyrlVPrwLlIBoKJaZBHUzC6uUmr4NxqDrxZBXjrjZC0eI4e74vjbRGMgBtkRuxm7JiqIJDAQkTZAADcn63v46XfnqWAFR57x8bkk70x2IqGYJPPKTQZDZD&access_token=503611874397394|a704cac1e92bf9c748f6bee2664cda59"
2021-09-22 15:57:23.124 +02:00 [INF] Received HTTP response headers after 178.491ms - 200
2021-09-22 15:57:23.124 +02:00 [INF] End processing HTTP request after 179.0184ms - 200
2021-09-22 15:57:23.129 +02:00 [INF] Start processing HTTP request GET "https://graph.facebook.com/me?fields=id,name,email,picture&access_token=EAAHKCEbgzNIBACdZAJwoJgWum260kR3ZBETLhZBgEXXUwew1SSPbF9zCi76IAEToc6zc374TjxOGUZCuubxB9LJmbcb11a8sXd0DZBasQzQkdkytNQUNZBhPPNevYnyyrlVPrwLlIBoKJaZBHUzC6uUmr4NxqDrxZBXjrjZC0eI4e74vjbRGMgBtkRuxm7JiqIJDAQkTZAADcn63v46XfnqWAFR57x8bkk70x2IqGYJPPKTQZDZD"
2021-09-22 15:57:23.129 +02:00 [INF] Sending HTTP request GET "https://graph.facebook.com/me?fields=id,name,email,picture&access_token=EAAHKCEbgzNIBACdZAJwoJgWum260kR3ZBETLhZBgEXXUwew1SSPbF9zCi76IAEToc6zc374TjxOGUZCuubxB9LJmbcb11a8sXd0DZBasQzQkdkytNQUNZBhPPNevYnyyrlVPrwLlIBoKJaZBHUzC6uUmr4NxqDrxZBXjrjZC0eI4e74vjbRGMgBtkRuxm7JiqIJDAQkTZAADcn63v46XfnqWAFR57x8bkk70x2IqGYJPPKTQZDZD"
2021-09-22 15:57:23.562 +02:00 [INF] Received HTTP response headers after 433.267ms - 200
2021-09-22 15:57:23.562 +02:00 [INF] End processing HTTP request after 433.7275ms - 200
2021-09-22 15:57:25.721 +02:00 [INF] Entity Framework Core 5.0.8 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: DetailedErrorsEnabled 
2021-09-22 15:57:34.393 +02:00 [INF] Executed DbCommand (426ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-09-22 15:57:34.710 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2021-09-22 15:57:34.712 +02:00 [INF] Executed action SpatulaApi.Controllers.Api.AccountController.RegisterFacebook (SpatulaApi) in 11787.2772ms
2021-09-22 15:57:34.714 +02:00 [INF] Executed endpoint 'SpatulaApi.Controllers.Api.AccountController.RegisterFacebook (SpatulaApi)'
2021-09-22 15:57:34.737 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44345/api/Account/facebookregister?accessToken=EAAHKCEbgzNIBACdZAJwoJgWum260kR3ZBETLhZBgEXXUwew1SSPbF9zCi76IAEToc6zc374TjxOGUZCuubxB9LJmbcb11a8sXd0DZBasQzQkdkytNQUNZBhPPNevYnyyrlVPrwLlIBoKJaZBHUzC6uUmr4NxqDrxZBXjrjZC0eI4e74vjbRGMgBtkRuxm7JiqIJDAQkTZAADcn63v46XfnqWAFR57x8bkk70x2IqGYJPPKTQZDZD - 0 - 400 - text/plain;+charset=utf-8 11836.1105ms
2021-09-22 16:05:39.817 +02:00 [INF] Application started
2021-09-22 16:05:42.796 +02:00 [INF] User profile is available. Using 'C:\Users\moh_a\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-22 16:05:43.619 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-22 16:05:43.619 +02:00 [INF] Hosting environment: Development
2021-09-22 16:05:43.619 +02:00 [INF] Content root path: C:\Users\moh_a\source\repos\Api\SpatulaApi
2021-09-22 16:05:43.718 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44345/swagger/index.html - -
2021-09-22 16:05:44.030 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44345/swagger/index.html - - - 200 - text/html;charset=utf-8 315.5374ms
2021-09-22 16:05:44.117 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44345/swagger/swagger-ui.css - -
2021-09-22 16:05:44.181 +02:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2021-09-22 16:05:44.182 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44345/swagger/swagger-ui.css - - - 0 142933 text/css 64.9256ms
2021-09-22 16:05:44.315 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44345/swagger/favicon-16x16.png - -
2021-09-22 16:05:44.330 +02:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2021-09-22 16:05:44.330 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44345/swagger/favicon-16x16.png - - - 0 665 image/png 15.4360ms
2021-09-22 16:05:44.406 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44345/swagger/v1/swagger.json - -
2021-09-22 16:05:44.726 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44345/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 319.7235ms
2021-09-22 16:05:45.640 +02:00 [INF] Request starting HTTP/1.1 HEAD https://localhost:44345/ - -
2021-09-22 16:05:46.091 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index(System.String) on controller SpatulaApi.Controllers.HomeController (SpatulaApi).
2021-09-22 16:05:46.145 +02:00 [INF] Executing ViewResult, running view Index.
2021-09-22 16:05:46.445 +02:00 [INF] Executed ViewResult - view Index executed in 311.7116ms.
2021-09-22 16:05:46.447 +02:00 [INF] Executed action SpatulaApi.Controllers.HomeController.Index (SpatulaApi) in 355.2848ms
2021-09-22 16:05:46.453 +02:00 [INF] Request finished HTTP/1.1 HEAD https://localhost:44345/ - - - 200 - text/html;+charset=utf-8 813.0872ms
2021-09-22 16:06:06.773 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44345/api/Account/facebookregister?accessToken=EAAHKCEbgzNIBANkCtZBZCY1j6OiNtFvCBWjwLvhCO5gver9M297lZCAI6ubZCFwgONNRQecpohZBgAXZBZBpZBBQNpCngv0dqCL27AoU3DwEfnmxtN4mpxSG80BPgrmWYvYU1EKG5zbjGGOR7xOKz2tBoErqEO5U1iUxC6X1RfEuUzBPY2NVe625eu67pFVhWnZCwZCYRlbPonpTXtynT3vKyUYSi5rA3ai0vPoIaEc40XtAZDZD - 0
2021-09-22 16:06:06.782 +02:00 [INF] CORS policy execution successful.
2021-09-22 16:06:06.816 +02:00 [INF] Executing endpoint 'SpatulaApi.Controllers.Api.AccountController.RegisterFacebook (SpatulaApi)'
2021-09-22 16:06:06.846 +02:00 [INF] Route matched with {action = "RegisterFacebook", controller = "Account", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterFacebook(System.String) on controller SpatulaApi.Controllers.Api.AccountController (SpatulaApi).
2021-09-22 16:06:07.794 +02:00 [INF] Start processing HTTP request GET "https://graph.facebook.com/debug_token?input_token=EAAHKCEbgzNIBANkCtZBZCY1j6OiNtFvCBWjwLvhCO5gver9M297lZCAI6ubZCFwgONNRQecpohZBgAXZBZBpZBBQNpCngv0dqCL27AoU3DwEfnmxtN4mpxSG80BPgrmWYvYU1EKG5zbjGGOR7xOKz2tBoErqEO5U1iUxC6X1RfEuUzBPY2NVe625eu67pFVhWnZCwZCYRlbPonpTXtynT3vKyUYSi5rA3ai0vPoIaEc40XtAZDZD&access_token=503611874397394|a704cac1e92bf9c748f6bee2664cda59"
2021-09-22 16:06:07.797 +02:00 [INF] Sending HTTP request GET "https://graph.facebook.com/debug_token?input_token=EAAHKCEbgzNIBANkCtZBZCY1j6OiNtFvCBWjwLvhCO5gver9M297lZCAI6ubZCFwgONNRQecpohZBgAXZBZBpZBBQNpCngv0dqCL27AoU3DwEfnmxtN4mpxSG80BPgrmWYvYU1EKG5zbjGGOR7xOKz2tBoErqEO5U1iUxC6X1RfEuUzBPY2NVe625eu67pFVhWnZCwZCYRlbPonpTXtynT3vKyUYSi5rA3ai0vPoIaEc40XtAZDZD&access_token=503611874397394|a704cac1e92bf9c748f6bee2664cda59"
2021-09-22 16:06:08.610 +02:00 [INF] Received HTTP response headers after 806.6385ms - 200
2021-09-22 16:06:08.612 +02:00 [INF] End processing HTTP request after 820.719ms - 200
2021-09-22 16:06:08.907 +02:00 [INF] Start processing HTTP request GET "https://graph.facebook.com/me?fields=id,name,email,picture&access_token=EAAHKCEbgzNIBANkCtZBZCY1j6OiNtFvCBWjwLvhCO5gver9M297lZCAI6ubZCFwgONNRQecpohZBgAXZBZBpZBBQNpCngv0dqCL27AoU3DwEfnmxtN4mpxSG80BPgrmWYvYU1EKG5zbjGGOR7xOKz2tBoErqEO5U1iUxC6X1RfEuUzBPY2NVe625eu67pFVhWnZCwZCYRlbPonpTXtynT3vKyUYSi5rA3ai0vPoIaEc40XtAZDZD"
2021-09-22 16:06:08.908 +02:00 [INF] Sending HTTP request GET "https://graph.facebook.com/me?fields=id,name,email,picture&access_token=EAAHKCEbgzNIBANkCtZBZCY1j6OiNtFvCBWjwLvhCO5gver9M297lZCAI6ubZCFwgONNRQecpohZBgAXZBZBpZBBQNpCngv0dqCL27AoU3DwEfnmxtN4mpxSG80BPgrmWYvYU1EKG5zbjGGOR7xOKz2tBoErqEO5U1iUxC6X1RfEuUzBPY2NVe625eu67pFVhWnZCwZCYRlbPonpTXtynT3vKyUYSi5rA3ai0vPoIaEc40XtAZDZD"
2021-09-22 16:06:09.154 +02:00 [INF] Received HTTP response headers after 245.8977ms - 200
2021-09-22 16:06:09.154 +02:00 [INF] End processing HTTP request after 246.4388ms - 200
2021-09-22 16:06:11.293 +02:00 [INF] Entity Framework Core 5.0.8 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: DetailedErrorsEnabled 
2021-09-22 16:06:13.050 +02:00 [INF] Executed DbCommand (131ms) [Parameters=[@__loginProvider_0='?' (Size = 128), @__providerKey_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[LoginProvider], [a].[ProviderKey], [a].[ProviderDisplayName], [a].[UserId]
FROM [AspNetUserLogins] AS [a]
WHERE ([a].[LoginProvider] = @__loginProvider_0) AND ([a].[ProviderKey] = @__providerKey_1)
2021-09-22 16:06:13.171 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-09-22 16:06:13.182 +02:00 [WRN] User validation failed: InvalidUserName.
2021-09-22 16:06:13.184 +02:00 [ERR] Something went wrong in the registration.
2021-09-22 16:06:13.184 +02:00 [ERR] Username '' is invalid, can only contain letters or digits.//InvalidUserName

2021-09-22 16:06:13.197 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2021-09-22 16:06:13.208 +02:00 [INF] Executed action SpatulaApi.Controllers.Api.AccountController.RegisterFacebook (SpatulaApi) in 6361.7534ms
2021-09-22 16:06:13.210 +02:00 [INF] Executed endpoint 'SpatulaApi.Controllers.Api.AccountController.RegisterFacebook (SpatulaApi)'
2021-09-22 16:06:13.221 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44345/api/Account/facebookregister?accessToken=EAAHKCEbgzNIBANkCtZBZCY1j6OiNtFvCBWjwLvhCO5gver9M297lZCAI6ubZCFwgONNRQecpohZBgAXZBZBpZBBQNpCngv0dqCL27AoU3DwEfnmxtN4mpxSG80BPgrmWYvYU1EKG5zbjGGOR7xOKz2tBoErqEO5U1iUxC6X1RfEuUzBPY2NVe625eu67pFVhWnZCwZCYRlbPonpTXtynT3vKyUYSi5rA3ai0vPoIaEc40XtAZDZD - 0 - 400 - text/plain;+charset=utf-8 6448.0578ms
2021-09-22 16:08:52.390 +02:00 [INF] Application started
2021-09-22 16:08:55.560 +02:00 [INF] User profile is available. Using 'C:\Users\moh_a\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-22 16:08:56.508 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-22 16:08:56.508 +02:00 [INF] Hosting environment: Development
2021-09-22 16:08:56.508 +02:00 [INF] Content root path: C:\Users\moh_a\source\repos\Api\SpatulaApi
2021-09-22 16:08:56.599 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44345/swagger/index.html - -
2021-09-22 16:08:56.891 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44345/swagger/index.html - - - 200 - text/html;charset=utf-8 296.9816ms
2021-09-22 16:08:57.346 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44345/swagger/v1/swagger.json - -
2021-09-22 16:08:57.634 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44345/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 287.8332ms
2021-09-22 16:08:58.578 +02:00 [INF] Request starting HTTP/1.1 HEAD https://localhost:44345/ - -
2021-09-22 16:08:59.060 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index(System.String) on controller SpatulaApi.Controllers.HomeController (SpatulaApi).
2021-09-22 16:08:59.115 +02:00 [INF] Executing ViewResult, running view Index.
2021-09-22 16:08:59.449 +02:00 [INF] Executed ViewResult - view Index executed in 348.2168ms.
2021-09-22 16:08:59.453 +02:00 [INF] Executed action SpatulaApi.Controllers.HomeController.Index (SpatulaApi) in 391.5221ms
2021-09-22 16:08:59.460 +02:00 [INF] Request finished HTTP/1.1 HEAD https://localhost:44345/ - - - 200 - text/html;+charset=utf-8 882.4321ms
2021-09-22 16:09:18.747 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44345/api/Account/facebookregister?accessToken=EAAHKCEbgzNIBANkCtZBZCY1j6OiNtFvCBWjwLvhCO5gver9M297lZCAI6ubZCFwgONNRQecpohZBgAXZBZBpZBBQNpCngv0dqCL27AoU3DwEfnmxtN4mpxSG80BPgrmWYvYU1EKG5zbjGGOR7xOKz2tBoErqEO5U1iUxC6X1RfEuUzBPY2NVe625eu67pFVhWnZCwZCYRlbPonpTXtynT3vKyUYSi5rA3ai0vPoIaEc40XtAZDZD - 0
2021-09-22 16:09:18.759 +02:00 [INF] CORS policy execution successful.
2021-09-22 16:09:18.779 +02:00 [INF] Executing endpoint 'SpatulaApi.Controllers.Api.AccountController.RegisterFacebook (SpatulaApi)'
2021-09-22 16:09:18.816 +02:00 [INF] Route matched with {action = "RegisterFacebook", controller = "Account", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterFacebook(System.String) on controller SpatulaApi.Controllers.Api.AccountController (SpatulaApi).
2021-09-22 16:09:19.713 +02:00 [INF] Start processing HTTP request GET "https://graph.facebook.com/debug_token?input_token=EAAHKCEbgzNIBANkCtZBZCY1j6OiNtFvCBWjwLvhCO5gver9M297lZCAI6ubZCFwgONNRQecpohZBgAXZBZBpZBBQNpCngv0dqCL27AoU3DwEfnmxtN4mpxSG80BPgrmWYvYU1EKG5zbjGGOR7xOKz2tBoErqEO5U1iUxC6X1RfEuUzBPY2NVe625eu67pFVhWnZCwZCYRlbPonpTXtynT3vKyUYSi5rA3ai0vPoIaEc40XtAZDZD&access_token=503611874397394|a704cac1e92bf9c748f6bee2664cda59"
2021-09-22 16:09:19.717 +02:00 [INF] Sending HTTP request GET "https://graph.facebook.com/debug_token?input_token=EAAHKCEbgzNIBANkCtZBZCY1j6OiNtFvCBWjwLvhCO5gver9M297lZCAI6ubZCFwgONNRQecpohZBgAXZBZBpZBBQNpCngv0dqCL27AoU3DwEfnmxtN4mpxSG80BPgrmWYvYU1EKG5zbjGGOR7xOKz2tBoErqEO5U1iUxC6X1RfEuUzBPY2NVe625eu67pFVhWnZCwZCYRlbPonpTXtynT3vKyUYSi5rA3ai0vPoIaEc40XtAZDZD&access_token=503611874397394|a704cac1e92bf9c748f6bee2664cda59"
2021-09-22 16:09:20.690 +02:00 [INF] Received HTTP response headers after 964.1891ms - 200
2021-09-22 16:09:20.692 +02:00 [INF] End processing HTTP request after 985.8691ms - 200
2021-09-22 16:09:21.032 +02:00 [INF] Start processing HTTP request GET "https://graph.facebook.com/me?fields=id,name,email,picture&access_token=EAAHKCEbgzNIBANkCtZBZCY1j6OiNtFvCBWjwLvhCO5gver9M297lZCAI6ubZCFwgONNRQecpohZBgAXZBZBpZBBQNpCngv0dqCL27AoU3DwEfnmxtN4mpxSG80BPgrmWYvYU1EKG5zbjGGOR7xOKz2tBoErqEO5U1iUxC6X1RfEuUzBPY2NVe625eu67pFVhWnZCwZCYRlbPonpTXtynT3vKyUYSi5rA3ai0vPoIaEc40XtAZDZD"
2021-09-22 16:09:21.033 +02:00 [INF] Sending HTTP request GET "https://graph.facebook.com/me?fields=id,name,email,picture&access_token=EAAHKCEbgzNIBANkCtZBZCY1j6OiNtFvCBWjwLvhCO5gver9M297lZCAI6ubZCFwgONNRQecpohZBgAXZBZBpZBBQNpCngv0dqCL27AoU3DwEfnmxtN4mpxSG80BPgrmWYvYU1EKG5zbjGGOR7xOKz2tBoErqEO5U1iUxC6X1RfEuUzBPY2NVe625eu67pFVhWnZCwZCYRlbPonpTXtynT3vKyUYSi5rA3ai0vPoIaEc40XtAZDZD"
2021-09-22 16:09:21.184 +02:00 [INF] Received HTTP response headers after 151.3204ms - 200
2021-09-22 16:09:21.184 +02:00 [INF] End processing HTTP request after 151.907ms - 200
2021-09-22 16:09:23.352 +02:00 [INF] Entity Framework Core 5.0.8 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: DetailedErrorsEnabled 
2021-09-22 16:09:25.228 +02:00 [INF] Executed DbCommand (165ms) [Parameters=[@__loginProvider_0='?' (Size = 128), @__providerKey_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[LoginProvider], [a].[ProviderKey], [a].[ProviderDisplayName], [a].[UserId]
FROM [AspNetUserLogins] AS [a]
WHERE ([a].[LoginProvider] = @__loginProvider_0) AND ([a].[ProviderKey] = @__providerKey_1)
2021-09-22 16:09:25.359 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-09-22 16:09:25.391 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-09-22 16:09:25.931 +02:00 [INF] Executed DbCommand (39ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (DbType = Int32), @p2='?' (Size = 4000), @p3='?' (Size = 256), @p4='?' (DbType = Boolean), @p5='?' (Size = 4000), @p6='?' (Size = 4000), @p7='?' (DbType = Boolean), @p8='?' (DbType = DateTimeOffset), @p9='?' (Size = 256), @p10='?' (Size = 256), @p11='?' (Size = 4000), @p12='?' (Size = 4000), @p13='?' (DbType = Boolean), @p14='?' (Size = 4000), @p15='?' (DbType = Boolean), @p16='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUsers] ([Id], [AccessFailedCount], [ConcurrencyStamp], [Email], [EmailConfirmed], [FirstName], [LastName], [LockoutEnabled], [LockoutEnd], [NormalizedEmail], [NormalizedUserName], [PasswordHash], [PhoneNumber], [PhoneNumberConfirmed], [SecurityStamp], [TwoFactorEnabled], [UserName])
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16);
2021-09-22 16:09:26.026 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2021-09-22 16:09:26.114 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[UserId], [a].[RoleId]
FROM [AspNetUserRoles] AS [a]
WHERE ([a].[UserId] = @__p_0) AND ([a].[RoleId] = @__p_1)
2021-09-22 16:09:26.130 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedRoleName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]
FROM [AspNetRoles] AS [a]
WHERE [a].[NormalizedName] = @__normalizedRoleName_0
2021-09-22 16:09:26.159 +02:00 [INF] Executed DbCommand (5ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-09-22 16:09:26.167 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-09-22 16:09:26.207 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?' (Size = 450), @p1='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
INSERT INTO [AspNetUserRoles] ([RoleId], [UserId])
VALUES (@p0, @p1);
2021-09-22 16:09:26.339 +02:00 [INF] Executed DbCommand (126ms) [Parameters=[@p16='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p17='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SET NOCOUNT ON;
UPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [FirstName] = @p4, [LastName] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15
WHERE [Id] = @p16 AND [ConcurrencyStamp] = @p17;
SELECT @@ROWCOUNT;
2021-09-22 16:09:26.374 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-09-22 16:09:26.500 +02:00 [INF] Executed DbCommand (13ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-22 16:09:26.798 +02:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType3`3[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[SpatulaApi.Data.ApiUser, SpatulaApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[SpatulaApi.ExternalContract.FacebookUserInfoResult, SpatulaApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-09-22 16:09:26.981 +02:00 [INF] Executed action SpatulaApi.Controllers.Api.AccountController.RegisterFacebook (SpatulaApi) in 8164.1728ms
2021-09-22 16:09:26.982 +02:00 [INF] Executed endpoint 'SpatulaApi.Controllers.Api.AccountController.RegisterFacebook (SpatulaApi)'
2021-09-22 16:09:26.995 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44345/api/Account/facebookregister?accessToken=EAAHKCEbgzNIBANkCtZBZCY1j6OiNtFvCBWjwLvhCO5gver9M297lZCAI6ubZCFwgONNRQecpohZBgAXZBZBpZBBQNpCngv0dqCL27AoU3DwEfnmxtN4mpxSG80BPgrmWYvYU1EKG5zbjGGOR7xOKz2tBoErqEO5U1iUxC6X1RfEuUzBPY2NVe625eu67pFVhWnZCwZCYRlbPonpTXtynT3vKyUYSi5rA3ai0vPoIaEc40XtAZDZD - 0 - 202 1691 application/json;+charset=utf-8 8248.2445ms
2021-09-22 16:10:21.865 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44345/api/Account/facebooklogin?accessToken=EAAHKCEbgzNIBANkCtZBZCY1j6OiNtFvCBWjwLvhCO5gver9M297lZCAI6ubZCFwgONNRQecpohZBgAXZBZBpZBBQNpCngv0dqCL27AoU3DwEfnmxtN4mpxSG80BPgrmWYvYU1EKG5zbjGGOR7xOKz2tBoErqEO5U1iUxC6X1RfEuUzBPY2NVe625eu67pFVhWnZCwZCYRlbPonpTXtynT3vKyUYSi5rA3ai0vPoIaEc40XtAZDZD - -
2021-09-22 16:10:21.885 +02:00 [INF] Executing endpoint 'SpatulaApi.Controllers.Api.AccountController.LoginFacebook (SpatulaApi)'
2021-09-22 16:10:21.910 +02:00 [INF] Route matched with {action = "LoginFacebook", controller = "Account", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginFacebook(System.String) on controller SpatulaApi.Controllers.Api.AccountController (SpatulaApi).
2021-09-22 16:10:21.939 +02:00 [INF] Start processing HTTP request GET "https://graph.facebook.com/debug_token?input_token=EAAHKCEbgzNIBANkCtZBZCY1j6OiNtFvCBWjwLvhCO5gver9M297lZCAI6ubZCFwgONNRQecpohZBgAXZBZBpZBBQNpCngv0dqCL27AoU3DwEfnmxtN4mpxSG80BPgrmWYvYU1EKG5zbjGGOR7xOKz2tBoErqEO5U1iUxC6X1RfEuUzBPY2NVe625eu67pFVhWnZCwZCYRlbPonpTXtynT3vKyUYSi5rA3ai0vPoIaEc40XtAZDZD&access_token=503611874397394|a704cac1e92bf9c748f6bee2664cda59"
2021-09-22 16:10:21.939 +02:00 [INF] Sending HTTP request GET "https://graph.facebook.com/debug_token?input_token=EAAHKCEbgzNIBANkCtZBZCY1j6OiNtFvCBWjwLvhCO5gver9M297lZCAI6ubZCFwgONNRQecpohZBgAXZBZBpZBBQNpCngv0dqCL27AoU3DwEfnmxtN4mpxSG80BPgrmWYvYU1EKG5zbjGGOR7xOKz2tBoErqEO5U1iUxC6X1RfEuUzBPY2NVe625eu67pFVhWnZCwZCYRlbPonpTXtynT3vKyUYSi5rA3ai0vPoIaEc40XtAZDZD&access_token=503611874397394|a704cac1e92bf9c748f6bee2664cda59"
2021-09-22 16:10:22.095 +02:00 [INF] Received HTTP response headers after 156.5218ms - 200
2021-09-22 16:10:22.096 +02:00 [INF] End processing HTTP request after 157.0421ms - 200
2021-09-22 16:10:22.099 +02:00 [INF] Start processing HTTP request GET "https://graph.facebook.com/me?fields=id,name,email,picture&access_token=EAAHKCEbgzNIBANkCtZBZCY1j6OiNtFvCBWjwLvhCO5gver9M297lZCAI6ubZCFwgONNRQecpohZBgAXZBZBpZBBQNpCngv0dqCL27AoU3DwEfnmxtN4mpxSG80BPgrmWYvYU1EKG5zbjGGOR7xOKz2tBoErqEO5U1iUxC6X1RfEuUzBPY2NVe625eu67pFVhWnZCwZCYRlbPonpTXtynT3vKyUYSi5rA3ai0vPoIaEc40XtAZDZD"
2021-09-22 16:10:22.100 +02:00 [INF] Sending HTTP request GET "https://graph.facebook.com/me?fields=id,name,email,picture&access_token=EAAHKCEbgzNIBANkCtZBZCY1j6OiNtFvCBWjwLvhCO5gver9M297lZCAI6ubZCFwgONNRQecpohZBgAXZBZBpZBBQNpCngv0dqCL27AoU3DwEfnmxtN4mpxSG80BPgrmWYvYU1EKG5zbjGGOR7xOKz2tBoErqEO5U1iUxC6X1RfEuUzBPY2NVe625eu67pFVhWnZCwZCYRlbPonpTXtynT3vKyUYSi5rA3ai0vPoIaEc40XtAZDZD"
2021-09-22 16:10:22.256 +02:00 [INF] Received HTTP response headers after 156.0877ms - 200
2021-09-22 16:10:22.256 +02:00 [INF] End processing HTTP request after 156.4904ms - 200
2021-09-22 16:10:22.483 +02:00 [INF] Executed action SpatulaApi.Controllers.Api.AccountController.LoginFacebook (SpatulaApi) in 572.0775ms
2021-09-22 16:10:22.484 +02:00 [INF] Executed endpoint 'SpatulaApi.Controllers.Api.AccountController.LoginFacebook (SpatulaApi)'
2021-09-22 16:10:22.488 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'email')
   at Microsoft.AspNetCore.Identity.UserManager`1.FindByEmailAsync(String email)
   at SpatulaApi.Controllers.Api.AccountController.LoginFacebook(String accessToken) in C:\Users\moh_a\source\repos\Api\SpatulaApi\Controllers\Api\AccountController.cs:line 129
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeNextResourceFilter>g__Awaited|24_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Rethrow(ResourceExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Session.SessionMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-09-22 16:10:22.651 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44345/api/Account/facebooklogin?accessToken=EAAHKCEbgzNIBANkCtZBZCY1j6OiNtFvCBWjwLvhCO5gver9M297lZCAI6ubZCFwgONNRQecpohZBgAXZBZBpZBBQNpCngv0dqCL27AoU3DwEfnmxtN4mpxSG80BPgrmWYvYU1EKG5zbjGGOR7xOKz2tBoErqEO5U1iUxC6X1RfEuUzBPY2NVe625eu67pFVhWnZCwZCYRlbPonpTXtynT3vKyUYSi5rA3ai0vPoIaEc40XtAZDZD - - - 500 - text/plain 786.7348ms
2021-09-22 16:14:36.444 +02:00 [INF] Application started
2021-09-22 16:14:39.626 +02:00 [INF] User profile is available. Using 'C:\Users\moh_a\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-22 16:14:40.470 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-22 16:14:40.470 +02:00 [INF] Hosting environment: Development
2021-09-22 16:14:40.470 +02:00 [INF] Content root path: C:\Users\moh_a\source\repos\Api\SpatulaApi
2021-09-22 16:14:40.550 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44345/swagger/index.html - -
2021-09-22 16:14:40.849 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44345/swagger/index.html - - - 200 - text/html;charset=utf-8 303.5041ms
2021-09-22 16:14:41.229 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44345/swagger/v1/swagger.json - -
2021-09-22 16:14:41.471 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44345/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 241.8922ms
2021-09-22 16:14:42.066 +02:00 [INF] Request starting HTTP/1.1 HEAD https://localhost:44345/ - -
2021-09-22 16:14:42.523 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index(System.String) on controller SpatulaApi.Controllers.HomeController (SpatulaApi).
2021-09-22 16:14:42.569 +02:00 [INF] Executing ViewResult, running view Index.
2021-09-22 16:14:42.870 +02:00 [INF] Executed ViewResult - view Index executed in 310.6969ms.
2021-09-22 16:14:42.873 +02:00 [INF] Executed action SpatulaApi.Controllers.HomeController.Index (SpatulaApi) in 348.2799ms
2021-09-22 16:14:42.878 +02:00 [INF] Request finished HTTP/1.1 HEAD https://localhost:44345/ - - - 200 - text/html;+charset=utf-8 812.1236ms
2021-09-22 16:15:02.902 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44345/api/Account/facebooklogin?accessToken=EAAHKCEbgzNIBANkCtZBZCY1j6OiNtFvCBWjwLvhCO5gver9M297lZCAI6ubZCFwgONNRQecpohZBgAXZBZBpZBBQNpCngv0dqCL27AoU3DwEfnmxtN4mpxSG80BPgrmWYvYU1EKG5zbjGGOR7xOKz2tBoErqEO5U1iUxC6X1RfEuUzBPY2NVe625eu67pFVhWnZCwZCYRlbPonpTXtynT3vKyUYSi5rA3ai0vPoIaEc40XtAZDZD - -
2021-09-22 16:15:02.946 +02:00 [INF] Executing endpoint 'SpatulaApi.Controllers.Api.AccountController.LoginFacebook (SpatulaApi)'
2021-09-22 16:15:02.984 +02:00 [INF] Route matched with {action = "LoginFacebook", controller = "Account", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginFacebook(System.String) on controller SpatulaApi.Controllers.Api.AccountController (SpatulaApi).
2021-09-22 16:15:03.919 +02:00 [INF] Start processing HTTP request GET "https://graph.facebook.com/debug_token?input_token=EAAHKCEbgzNIBANkCtZBZCY1j6OiNtFvCBWjwLvhCO5gver9M297lZCAI6ubZCFwgONNRQecpohZBgAXZBZBpZBBQNpCngv0dqCL27AoU3DwEfnmxtN4mpxSG80BPgrmWYvYU1EKG5zbjGGOR7xOKz2tBoErqEO5U1iUxC6X1RfEuUzBPY2NVe625eu67pFVhWnZCwZCYRlbPonpTXtynT3vKyUYSi5rA3ai0vPoIaEc40XtAZDZD&access_token=503611874397394|a704cac1e92bf9c748f6bee2664cda59"
2021-09-22 16:15:03.926 +02:00 [INF] Sending HTTP request GET "https://graph.facebook.com/debug_token?input_token=EAAHKCEbgzNIBANkCtZBZCY1j6OiNtFvCBWjwLvhCO5gver9M297lZCAI6ubZCFwgONNRQecpohZBgAXZBZBpZBBQNpCngv0dqCL27AoU3DwEfnmxtN4mpxSG80BPgrmWYvYU1EKG5zbjGGOR7xOKz2tBoErqEO5U1iUxC6X1RfEuUzBPY2NVe625eu67pFVhWnZCwZCYRlbPonpTXtynT3vKyUYSi5rA3ai0vPoIaEc40XtAZDZD&access_token=503611874397394|a704cac1e92bf9c748f6bee2664cda59"
2021-09-22 16:15:04.852 +02:00 [INF] Received HTTP response headers after 919.1504ms - 200
2021-09-22 16:15:04.853 +02:00 [INF] End processing HTTP request after 942.3301ms - 200
2021-09-22 16:15:05.188 +02:00 [INF] Start processing HTTP request GET "https://graph.facebook.com/me?fields=id,name,email,picture&access_token=EAAHKCEbgzNIBANkCtZBZCY1j6OiNtFvCBWjwLvhCO5gver9M297lZCAI6ubZCFwgONNRQecpohZBgAXZBZBpZBBQNpCngv0dqCL27AoU3DwEfnmxtN4mpxSG80BPgrmWYvYU1EKG5zbjGGOR7xOKz2tBoErqEO5U1iUxC6X1RfEuUzBPY2NVe625eu67pFVhWnZCwZCYRlbPonpTXtynT3vKyUYSi5rA3ai0vPoIaEc40XtAZDZD"
2021-09-22 16:15:05.188 +02:00 [INF] Sending HTTP request GET "https://graph.facebook.com/me?fields=id,name,email,picture&access_token=EAAHKCEbgzNIBANkCtZBZCY1j6OiNtFvCBWjwLvhCO5gver9M297lZCAI6ubZCFwgONNRQecpohZBgAXZBZBpZBBQNpCngv0dqCL27AoU3DwEfnmxtN4mpxSG80BPgrmWYvYU1EKG5zbjGGOR7xOKz2tBoErqEO5U1iUxC6X1RfEuUzBPY2NVe625eu67pFVhWnZCwZCYRlbPonpTXtynT3vKyUYSi5rA3ai0vPoIaEc40XtAZDZD"
2021-09-22 16:15:05.424 +02:00 [INF] Received HTTP response headers after 235.8672ms - 200
2021-09-22 16:15:05.425 +02:00 [INF] End processing HTTP request after 236.5321ms - 200
2021-09-22 16:15:07.457 +02:00 [INF] Entity Framework Core 5.0.8 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: DetailedErrorsEnabled 
2021-09-22 16:15:09.785 +02:00 [INF] Executed DbCommand (546ms) [Parameters=[@__loginProvider_0='?' (Size = 128), @__providerKey_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[LoginProvider], [a].[ProviderKey], [a].[ProviderDisplayName], [a].[UserId]
FROM [AspNetUserLogins] AS [a]
WHERE ([a].[LoginProvider] = @__loginProvider_0) AND ([a].[ProviderKey] = @__providerKey_1)
2021-09-22 16:15:09.865 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2021-09-22 16:15:09.873 +02:00 [INF] Executed action SpatulaApi.Controllers.Api.AccountController.LoginFacebook (SpatulaApi) in 6888.5663ms
2021-09-22 16:15:09.874 +02:00 [INF] Executed endpoint 'SpatulaApi.Controllers.Api.AccountController.LoginFacebook (SpatulaApi)'
2021-09-22 16:15:09.887 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44345/api/Account/facebooklogin?accessToken=EAAHKCEbgzNIBANkCtZBZCY1j6OiNtFvCBWjwLvhCO5gver9M297lZCAI6ubZCFwgONNRQecpohZBgAXZBZBpZBBQNpCngv0dqCL27AoU3DwEfnmxtN4mpxSG80BPgrmWYvYU1EKG5zbjGGOR7xOKz2tBoErqEO5U1iUxC6X1RfEuUzBPY2NVe625eu67pFVhWnZCwZCYRlbPonpTXtynT3vKyUYSi5rA3ai0vPoIaEc40XtAZDZD - - - 400 - text/plain;+charset=utf-8 6985.3868ms
2021-09-22 16:17:46.087 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44345/api/Account/facebooklogin?accessToken=EAAHKCEbgzNIBACdZAJwoJgWum260kR3ZBETLhZBgEXXUwew1SSPbF9zCi76IAEToc6zc374TjxOGUZCuubxB9LJmbcb11a8sXd0DZBasQzQkdkytNQUNZBhPPNevYnyyrlVPrwLlIBoKJaZBHUzC6uUmr4NxqDrxZBXjrjZC0eI4e74vjbRGMgBtkRuxm7JiqIJDAQkTZAADcn63v46XfnqWAFR57x8bkk70x2IqGYJPPKTQZDZD - -
2021-09-22 16:17:46.096 +02:00 [INF] Executing endpoint 'SpatulaApi.Controllers.Api.AccountController.LoginFacebook (SpatulaApi)'
2021-09-22 16:17:46.097 +02:00 [INF] Route matched with {action = "LoginFacebook", controller = "Account", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginFacebook(System.String) on controller SpatulaApi.Controllers.Api.AccountController (SpatulaApi).
2021-09-22 16:17:46.121 +02:00 [INF] Start processing HTTP request GET "https://graph.facebook.com/debug_token?input_token=EAAHKCEbgzNIBACdZAJwoJgWum260kR3ZBETLhZBgEXXUwew1SSPbF9zCi76IAEToc6zc374TjxOGUZCuubxB9LJmbcb11a8sXd0DZBasQzQkdkytNQUNZBhPPNevYnyyrlVPrwLlIBoKJaZBHUzC6uUmr4NxqDrxZBXjrjZC0eI4e74vjbRGMgBtkRuxm7JiqIJDAQkTZAADcn63v46XfnqWAFR57x8bkk70x2IqGYJPPKTQZDZD&access_token=503611874397394|a704cac1e92bf9c748f6bee2664cda59"
2021-09-22 16:17:46.121 +02:00 [INF] Sending HTTP request GET "https://graph.facebook.com/debug_token?input_token=EAAHKCEbgzNIBACdZAJwoJgWum260kR3ZBETLhZBgEXXUwew1SSPbF9zCi76IAEToc6zc374TjxOGUZCuubxB9LJmbcb11a8sXd0DZBasQzQkdkytNQUNZBhPPNevYnyyrlVPrwLlIBoKJaZBHUzC6uUmr4NxqDrxZBXjrjZC0eI4e74vjbRGMgBtkRuxm7JiqIJDAQkTZAADcn63v46XfnqWAFR57x8bkk70x2IqGYJPPKTQZDZD&access_token=503611874397394|a704cac1e92bf9c748f6bee2664cda59"
2021-09-22 16:17:46.540 +02:00 [INF] Received HTTP response headers after 418.4264ms - 200
2021-09-22 16:17:46.540 +02:00 [INF] End processing HTTP request after 418.8462ms - 200
2021-09-22 16:17:46.542 +02:00 [INF] Start processing HTTP request GET "https://graph.facebook.com/me?fields=id,name,email,picture&access_token=EAAHKCEbgzNIBACdZAJwoJgWum260kR3ZBETLhZBgEXXUwew1SSPbF9zCi76IAEToc6zc374TjxOGUZCuubxB9LJmbcb11a8sXd0DZBasQzQkdkytNQUNZBhPPNevYnyyrlVPrwLlIBoKJaZBHUzC6uUmr4NxqDrxZBXjrjZC0eI4e74vjbRGMgBtkRuxm7JiqIJDAQkTZAADcn63v46XfnqWAFR57x8bkk70x2IqGYJPPKTQZDZD"
2021-09-22 16:17:46.542 +02:00 [INF] Sending HTTP request GET "https://graph.facebook.com/me?fields=id,name,email,picture&access_token=EAAHKCEbgzNIBACdZAJwoJgWum260kR3ZBETLhZBgEXXUwew1SSPbF9zCi76IAEToc6zc374TjxOGUZCuubxB9LJmbcb11a8sXd0DZBasQzQkdkytNQUNZBhPPNevYnyyrlVPrwLlIBoKJaZBHUzC6uUmr4NxqDrxZBXjrjZC0eI4e74vjbRGMgBtkRuxm7JiqIJDAQkTZAADcn63v46XfnqWAFR57x8bkk70x2IqGYJPPKTQZDZD"
2021-09-22 16:17:46.758 +02:00 [INF] Received HTTP response headers after 215.7554ms - 200
2021-09-22 16:17:46.758 +02:00 [INF] End processing HTTP request after 216.1903ms - 200
2021-09-22 16:17:46.825 +02:00 [INF] Entity Framework Core 5.0.8 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: DetailedErrorsEnabled 
2021-09-22 16:17:46.874 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-09-22 16:17:47.065 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-09-22 16:17:47.211 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-22 16:17:47.409 +02:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType3`3[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[SpatulaApi.Data.ApiUser, SpatulaApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[SpatulaApi.ExternalContract.FacebookUserInfoResult, SpatulaApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-09-22 16:17:47.524 +02:00 [INF] Executed action SpatulaApi.Controllers.Api.AccountController.LoginFacebook (SpatulaApi) in 1427.2134ms
2021-09-22 16:17:47.524 +02:00 [INF] Executed endpoint 'SpatulaApi.Controllers.Api.AccountController.LoginFacebook (SpatulaApi)'
2021-09-22 16:17:47.525 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44345/api/Account/facebooklogin?accessToken=EAAHKCEbgzNIBACdZAJwoJgWum260kR3ZBETLhZBgEXXUwew1SSPbF9zCi76IAEToc6zc374TjxOGUZCuubxB9LJmbcb11a8sXd0DZBasQzQkdkytNQUNZBhPPNevYnyyrlVPrwLlIBoKJaZBHUzC6uUmr4NxqDrxZBXjrjZC0eI4e74vjbRGMgBtkRuxm7JiqIJDAQkTZAADcn63v46XfnqWAFR57x8bkk70x2IqGYJPPKTQZDZD - - - 202 1530 application/json;+charset=utf-8 1438.0873ms
2021-09-22 16:20:20.519 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44345/api/Account/facebookregister?accessToken=EAAHKCEbgzNIBACdZAJwoJgWum260kR3ZBETLhZBgEXXUwew1SSPbF9zCi76IAEToc6zc374TjxOGUZCuubxB9LJmbcb11a8sXd0DZBasQzQkdkytNQUNZBhPPNevYnyyrlVPrwLlIBoKJaZBHUzC6uUmr4NxqDrxZBXjrjZC0eI4e74vjbRGMgBtkRuxm7JiqIJDAQkTZAADcn63v46XfnqWAFR57x8bkk70x2IqGYJPPKTQZDZD - 0
2021-09-22 16:20:20.526 +02:00 [INF] CORS policy execution successful.
2021-09-22 16:20:20.528 +02:00 [INF] Executing endpoint 'SpatulaApi.Controllers.Api.AccountController.RegisterFacebook (SpatulaApi)'
2021-09-22 16:20:20.539 +02:00 [INF] Route matched with {action = "RegisterFacebook", controller = "Account", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterFacebook(System.String) on controller SpatulaApi.Controllers.Api.AccountController (SpatulaApi).
2021-09-22 16:20:20.567 +02:00 [INF] Start processing HTTP request GET "https://graph.facebook.com/debug_token?input_token=EAAHKCEbgzNIBACdZAJwoJgWum260kR3ZBETLhZBgEXXUwew1SSPbF9zCi76IAEToc6zc374TjxOGUZCuubxB9LJmbcb11a8sXd0DZBasQzQkdkytNQUNZBhPPNevYnyyrlVPrwLlIBoKJaZBHUzC6uUmr4NxqDrxZBXjrjZC0eI4e74vjbRGMgBtkRuxm7JiqIJDAQkTZAADcn63v46XfnqWAFR57x8bkk70x2IqGYJPPKTQZDZD&access_token=503611874397394|a704cac1e92bf9c748f6bee2664cda59"
2021-09-22 16:20:20.567 +02:00 [INF] Sending HTTP request GET "https://graph.facebook.com/debug_token?input_token=EAAHKCEbgzNIBACdZAJwoJgWum260kR3ZBETLhZBgEXXUwew1SSPbF9zCi76IAEToc6zc374TjxOGUZCuubxB9LJmbcb11a8sXd0DZBasQzQkdkytNQUNZBhPPNevYnyyrlVPrwLlIBoKJaZBHUzC6uUmr4NxqDrxZBXjrjZC0eI4e74vjbRGMgBtkRuxm7JiqIJDAQkTZAADcn63v46XfnqWAFR57x8bkk70x2IqGYJPPKTQZDZD&access_token=503611874397394|a704cac1e92bf9c748f6bee2664cda59"
2021-09-22 16:20:21.096 +02:00 [INF] Received HTTP response headers after 528.7111ms - 200
2021-09-22 16:20:21.096 +02:00 [INF] End processing HTTP request after 529.1556ms - 200
2021-09-22 16:20:21.097 +02:00 [INF] Start processing HTTP request GET "https://graph.facebook.com/me?fields=id,name,email,picture&access_token=EAAHKCEbgzNIBACdZAJwoJgWum260kR3ZBETLhZBgEXXUwew1SSPbF9zCi76IAEToc6zc374TjxOGUZCuubxB9LJmbcb11a8sXd0DZBasQzQkdkytNQUNZBhPPNevYnyyrlVPrwLlIBoKJaZBHUzC6uUmr4NxqDrxZBXjrjZC0eI4e74vjbRGMgBtkRuxm7JiqIJDAQkTZAADcn63v46XfnqWAFR57x8bkk70x2IqGYJPPKTQZDZD"
2021-09-22 16:20:21.097 +02:00 [INF] Sending HTTP request GET "https://graph.facebook.com/me?fields=id,name,email,picture&access_token=EAAHKCEbgzNIBACdZAJwoJgWum260kR3ZBETLhZBgEXXUwew1SSPbF9zCi76IAEToc6zc374TjxOGUZCuubxB9LJmbcb11a8sXd0DZBasQzQkdkytNQUNZBhPPNevYnyyrlVPrwLlIBoKJaZBHUzC6uUmr4NxqDrxZBXjrjZC0eI4e74vjbRGMgBtkRuxm7JiqIJDAQkTZAADcn63v46XfnqWAFR57x8bkk70x2IqGYJPPKTQZDZD"
2021-09-22 16:20:21.297 +02:00 [INF] Received HTTP response headers after 200.0239ms - 200
2021-09-22 16:20:21.297 +02:00 [INF] End processing HTTP request after 200.3747ms - 200
2021-09-22 16:20:21.316 +02:00 [INF] Entity Framework Core 5.0.8 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: DetailedErrorsEnabled 
2021-09-22 16:20:21.329 +02:00 [INF] Executed DbCommand (11ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-09-22 16:20:21.343 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2021-09-22 16:20:21.345 +02:00 [INF] Executed action SpatulaApi.Controllers.Api.AccountController.RegisterFacebook (SpatulaApi) in 805.5618ms
2021-09-22 16:20:21.345 +02:00 [INF] Executed endpoint 'SpatulaApi.Controllers.Api.AccountController.RegisterFacebook (SpatulaApi)'
2021-09-22 16:20:21.347 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44345/api/Account/facebookregister?accessToken=EAAHKCEbgzNIBACdZAJwoJgWum260kR3ZBETLhZBgEXXUwew1SSPbF9zCi76IAEToc6zc374TjxOGUZCuubxB9LJmbcb11a8sXd0DZBasQzQkdkytNQUNZBhPPNevYnyyrlVPrwLlIBoKJaZBHUzC6uUmr4NxqDrxZBXjrjZC0eI4e74vjbRGMgBtkRuxm7JiqIJDAQkTZAADcn63v46XfnqWAFR57x8bkk70x2IqGYJPPKTQZDZD - 0 - 400 - text/plain;+charset=utf-8 828.3092ms
2021-09-22 16:20:31.263 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44345/api/Account/facebooklogin?accessToken=EAAHKCEbgzNIBACdZAJwoJgWum260kR3ZBETLhZBgEXXUwew1SSPbF9zCi76IAEToc6zc374TjxOGUZCuubxB9LJmbcb11a8sXd0DZBasQzQkdkytNQUNZBhPPNevYnyyrlVPrwLlIBoKJaZBHUzC6uUmr4NxqDrxZBXjrjZC0eI4e74vjbRGMgBtkRuxm7JiqIJDAQkTZAADcn63v46XfnqWAFR57x8bkk70x2IqGYJPPKTQZDZD - -
2021-09-22 16:20:31.264 +02:00 [INF] Executing endpoint 'SpatulaApi.Controllers.Api.AccountController.LoginFacebook (SpatulaApi)'
2021-09-22 16:20:31.264 +02:00 [INF] Route matched with {action = "LoginFacebook", controller = "Account", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginFacebook(System.String) on controller SpatulaApi.Controllers.Api.AccountController (SpatulaApi).
2021-09-22 16:20:31.269 +02:00 [INF] Start processing HTTP request GET "https://graph.facebook.com/debug_token?input_token=EAAHKCEbgzNIBACdZAJwoJgWum260kR3ZBETLhZBgEXXUwew1SSPbF9zCi76IAEToc6zc374TjxOGUZCuubxB9LJmbcb11a8sXd0DZBasQzQkdkytNQUNZBhPPNevYnyyrlVPrwLlIBoKJaZBHUzC6uUmr4NxqDrxZBXjrjZC0eI4e74vjbRGMgBtkRuxm7JiqIJDAQkTZAADcn63v46XfnqWAFR57x8bkk70x2IqGYJPPKTQZDZD&access_token=503611874397394|a704cac1e92bf9c748f6bee2664cda59"
2021-09-22 16:20:31.269 +02:00 [INF] Sending HTTP request GET "https://graph.facebook.com/debug_token?input_token=EAAHKCEbgzNIBACdZAJwoJgWum260kR3ZBETLhZBgEXXUwew1SSPbF9zCi76IAEToc6zc374TjxOGUZCuubxB9LJmbcb11a8sXd0DZBasQzQkdkytNQUNZBhPPNevYnyyrlVPrwLlIBoKJaZBHUzC6uUmr4NxqDrxZBXjrjZC0eI4e74vjbRGMgBtkRuxm7JiqIJDAQkTZAADcn63v46XfnqWAFR57x8bkk70x2IqGYJPPKTQZDZD&access_token=503611874397394|a704cac1e92bf9c748f6bee2664cda59"
2021-09-22 16:20:31.416 +02:00 [INF] Received HTTP response headers after 146.9848ms - 200
2021-09-22 16:20:31.416 +02:00 [INF] End processing HTTP request after 147.443ms - 200
2021-09-22 16:20:31.417 +02:00 [INF] Start processing HTTP request GET "https://graph.facebook.com/me?fields=id,name,email,picture&access_token=EAAHKCEbgzNIBACdZAJwoJgWum260kR3ZBETLhZBgEXXUwew1SSPbF9zCi76IAEToc6zc374TjxOGUZCuubxB9LJmbcb11a8sXd0DZBasQzQkdkytNQUNZBhPPNevYnyyrlVPrwLlIBoKJaZBHUzC6uUmr4NxqDrxZBXjrjZC0eI4e74vjbRGMgBtkRuxm7JiqIJDAQkTZAADcn63v46XfnqWAFR57x8bkk70x2IqGYJPPKTQZDZD"
2021-09-22 16:20:31.417 +02:00 [INF] Sending HTTP request GET "https://graph.facebook.com/me?fields=id,name,email,picture&access_token=EAAHKCEbgzNIBACdZAJwoJgWum260kR3ZBETLhZBgEXXUwew1SSPbF9zCi76IAEToc6zc374TjxOGUZCuubxB9LJmbcb11a8sXd0DZBasQzQkdkytNQUNZBhPPNevYnyyrlVPrwLlIBoKJaZBHUzC6uUmr4NxqDrxZBXjrjZC0eI4e74vjbRGMgBtkRuxm7JiqIJDAQkTZAADcn63v46XfnqWAFR57x8bkk70x2IqGYJPPKTQZDZD"
2021-09-22 16:20:31.616 +02:00 [INF] Received HTTP response headers after 199.3422ms - 200
2021-09-22 16:20:31.616 +02:00 [INF] End processing HTTP request after 199.6943ms - 200
2021-09-22 16:20:31.617 +02:00 [INF] Entity Framework Core 5.0.8 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: DetailedErrorsEnabled 
2021-09-22 16:20:31.620 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-09-22 16:20:31.623 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-09-22 16:20:31.632 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-22 16:20:31.634 +02:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType3`3[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[SpatulaApi.Data.ApiUser, SpatulaApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[SpatulaApi.ExternalContract.FacebookUserInfoResult, SpatulaApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-09-22 16:20:31.635 +02:00 [INF] Executed action SpatulaApi.Controllers.Api.AccountController.LoginFacebook (SpatulaApi) in 370.6802ms
2021-09-22 16:20:31.635 +02:00 [INF] Executed endpoint 'SpatulaApi.Controllers.Api.AccountController.LoginFacebook (SpatulaApi)'
2021-09-22 16:20:31.636 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44345/api/Account/facebooklogin?accessToken=EAAHKCEbgzNIBACdZAJwoJgWum260kR3ZBETLhZBgEXXUwew1SSPbF9zCi76IAEToc6zc374TjxOGUZCuubxB9LJmbcb11a8sXd0DZBasQzQkdkytNQUNZBhPPNevYnyyrlVPrwLlIBoKJaZBHUzC6uUmr4NxqDrxZBXjrjZC0eI4e74vjbRGMgBtkRuxm7JiqIJDAQkTZAADcn63v46XfnqWAFR57x8bkk70x2IqGYJPPKTQZDZD - - - 202 1530 application/json;+charset=utf-8 372.7373ms
2021-09-22 16:26:49.005 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44345/api/Account/facebooklogin?accessToken=EAAHKCEbgzNIBAMhHhz1nKokVPptE5ALmvqK0ZAToZBkFeZAzRVEIRXLdobJQeTeezFVjZAJpt4cZAWPp20f7KmqWJ1KyJdZCTeDrv67luUnOqtVpTfGvEKD8evpIH4epGEKVL2MFpfNRrUDT1g0uZCxD4ymaHV1qyJ4BkygVagu2a6PsM6qQJ5JgELnPZCHHWHF3K51ZBitfft3rcnV8O2DOVZAbpNvr2F1WxyKts0fmXkDwZDZD - -
2021-09-22 16:26:49.035 +02:00 [INF] Executing endpoint 'SpatulaApi.Controllers.Api.AccountController.LoginFacebook (SpatulaApi)'
2021-09-22 16:26:49.036 +02:00 [INF] Route matched with {action = "LoginFacebook", controller = "Account", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginFacebook(System.String) on controller SpatulaApi.Controllers.Api.AccountController (SpatulaApi).
2021-09-22 16:26:49.041 +02:00 [INF] Start processing HTTP request GET "https://graph.facebook.com/debug_token?input_token=EAAHKCEbgzNIBAMhHhz1nKokVPptE5ALmvqK0ZAToZBkFeZAzRVEIRXLdobJQeTeezFVjZAJpt4cZAWPp20f7KmqWJ1KyJdZCTeDrv67luUnOqtVpTfGvEKD8evpIH4epGEKVL2MFpfNRrUDT1g0uZCxD4ymaHV1qyJ4BkygVagu2a6PsM6qQJ5JgELnPZCHHWHF3K51ZBitfft3rcnV8O2DOVZAbpNvr2F1WxyKts0fmXkDwZDZD&access_token=503611874397394|a704cac1e92bf9c748f6bee2664cda59"
2021-09-22 16:26:49.041 +02:00 [INF] Sending HTTP request GET "https://graph.facebook.com/debug_token?input_token=EAAHKCEbgzNIBAMhHhz1nKokVPptE5ALmvqK0ZAToZBkFeZAzRVEIRXLdobJQeTeezFVjZAJpt4cZAWPp20f7KmqWJ1KyJdZCTeDrv67luUnOqtVpTfGvEKD8evpIH4epGEKVL2MFpfNRrUDT1g0uZCxD4ymaHV1qyJ4BkygVagu2a6PsM6qQJ5JgELnPZCHHWHF3K51ZBitfft3rcnV8O2DOVZAbpNvr2F1WxyKts0fmXkDwZDZD&access_token=503611874397394|a704cac1e92bf9c748f6bee2664cda59"
2021-09-22 16:26:49.333 +02:00 [INF] Received HTTP response headers after 291.8145ms - 200
2021-09-22 16:26:49.333 +02:00 [INF] End processing HTTP request after 292.3406ms - 200
2021-09-22 16:26:49.334 +02:00 [INF] Start processing HTTP request GET "https://graph.facebook.com/me?fields=id,name,email,picture&access_token=EAAHKCEbgzNIBAMhHhz1nKokVPptE5ALmvqK0ZAToZBkFeZAzRVEIRXLdobJQeTeezFVjZAJpt4cZAWPp20f7KmqWJ1KyJdZCTeDrv67luUnOqtVpTfGvEKD8evpIH4epGEKVL2MFpfNRrUDT1g0uZCxD4ymaHV1qyJ4BkygVagu2a6PsM6qQJ5JgELnPZCHHWHF3K51ZBitfft3rcnV8O2DOVZAbpNvr2F1WxyKts0fmXkDwZDZD"
2021-09-22 16:26:49.334 +02:00 [INF] Sending HTTP request GET "https://graph.facebook.com/me?fields=id,name,email,picture&access_token=EAAHKCEbgzNIBAMhHhz1nKokVPptE5ALmvqK0ZAToZBkFeZAzRVEIRXLdobJQeTeezFVjZAJpt4cZAWPp20f7KmqWJ1KyJdZCTeDrv67luUnOqtVpTfGvEKD8evpIH4epGEKVL2MFpfNRrUDT1g0uZCxD4ymaHV1qyJ4BkygVagu2a6PsM6qQJ5JgELnPZCHHWHF3K51ZBitfft3rcnV8O2DOVZAbpNvr2F1WxyKts0fmXkDwZDZD"
2021-09-22 16:26:49.506 +02:00 [INF] Received HTTP response headers after 172.4641ms - 200
2021-09-22 16:26:49.507 +02:00 [INF] End processing HTTP request after 172.7921ms - 200
2021-09-22 16:26:49.508 +02:00 [INF] Entity Framework Core 5.0.8 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: DetailedErrorsEnabled 
2021-09-22 16:26:50.266 +02:00 [INF] Executed DbCommand (296ms) [Parameters=[@__loginProvider_0='?' (Size = 128), @__providerKey_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[LoginProvider], [a].[ProviderKey], [a].[ProviderDisplayName], [a].[UserId]
FROM [AspNetUserLogins] AS [a]
WHERE ([a].[LoginProvider] = @__loginProvider_0) AND ([a].[ProviderKey] = @__providerKey_1)
2021-09-22 16:26:50.267 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2021-09-22 16:26:50.268 +02:00 [INF] Executed action SpatulaApi.Controllers.Api.AccountController.LoginFacebook (SpatulaApi) in 1232.084ms
2021-09-22 16:26:50.268 +02:00 [INF] Executed endpoint 'SpatulaApi.Controllers.Api.AccountController.LoginFacebook (SpatulaApi)'
2021-09-22 16:26:50.271 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44345/api/Account/facebooklogin?accessToken=EAAHKCEbgzNIBAMhHhz1nKokVPptE5ALmvqK0ZAToZBkFeZAzRVEIRXLdobJQeTeezFVjZAJpt4cZAWPp20f7KmqWJ1KyJdZCTeDrv67luUnOqtVpTfGvEKD8evpIH4epGEKVL2MFpfNRrUDT1g0uZCxD4ymaHV1qyJ4BkygVagu2a6PsM6qQJ5JgELnPZCHHWHF3K51ZBitfft3rcnV8O2DOVZAbpNvr2F1WxyKts0fmXkDwZDZD - - - 400 - text/plain;+charset=utf-8 1265.6523ms
2021-09-22 16:26:59.702 +02:00 [INF] Request starting HTTP/2 POST https://localhost:44345/api/Account/facebookregister?accessToken=EAAHKCEbgzNIBAMhHhz1nKokVPptE5ALmvqK0ZAToZBkFeZAzRVEIRXLdobJQeTeezFVjZAJpt4cZAWPp20f7KmqWJ1KyJdZCTeDrv67luUnOqtVpTfGvEKD8evpIH4epGEKVL2MFpfNRrUDT1g0uZCxD4ymaHV1qyJ4BkygVagu2a6PsM6qQJ5JgELnPZCHHWHF3K51ZBitfft3rcnV8O2DOVZAbpNvr2F1WxyKts0fmXkDwZDZD - 0
2021-09-22 16:26:59.703 +02:00 [INF] CORS policy execution successful.
2021-09-22 16:26:59.704 +02:00 [INF] Executing endpoint 'SpatulaApi.Controllers.Api.AccountController.RegisterFacebook (SpatulaApi)'
2021-09-22 16:26:59.704 +02:00 [INF] Route matched with {action = "RegisterFacebook", controller = "Account", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] RegisterFacebook(System.String) on controller SpatulaApi.Controllers.Api.AccountController (SpatulaApi).
2021-09-22 16:26:59.705 +02:00 [INF] Start processing HTTP request GET "https://graph.facebook.com/debug_token?input_token=EAAHKCEbgzNIBAMhHhz1nKokVPptE5ALmvqK0ZAToZBkFeZAzRVEIRXLdobJQeTeezFVjZAJpt4cZAWPp20f7KmqWJ1KyJdZCTeDrv67luUnOqtVpTfGvEKD8evpIH4epGEKVL2MFpfNRrUDT1g0uZCxD4ymaHV1qyJ4BkygVagu2a6PsM6qQJ5JgELnPZCHHWHF3K51ZBitfft3rcnV8O2DOVZAbpNvr2F1WxyKts0fmXkDwZDZD&access_token=503611874397394|a704cac1e92bf9c748f6bee2664cda59"
2021-09-22 16:26:59.705 +02:00 [INF] Sending HTTP request GET "https://graph.facebook.com/debug_token?input_token=EAAHKCEbgzNIBAMhHhz1nKokVPptE5ALmvqK0ZAToZBkFeZAzRVEIRXLdobJQeTeezFVjZAJpt4cZAWPp20f7KmqWJ1KyJdZCTeDrv67luUnOqtVpTfGvEKD8evpIH4epGEKVL2MFpfNRrUDT1g0uZCxD4ymaHV1qyJ4BkygVagu2a6PsM6qQJ5JgELnPZCHHWHF3K51ZBitfft3rcnV8O2DOVZAbpNvr2F1WxyKts0fmXkDwZDZD&access_token=503611874397394|a704cac1e92bf9c748f6bee2664cda59"
2021-09-22 16:26:59.855 +02:00 [INF] Received HTTP response headers after 150.3787ms - 200
2021-09-22 16:26:59.856 +02:00 [INF] End processing HTTP request after 150.8173ms - 200
2021-09-22 16:26:59.856 +02:00 [INF] Start processing HTTP request GET "https://graph.facebook.com/me?fields=id,name,email,picture&access_token=EAAHKCEbgzNIBAMhHhz1nKokVPptE5ALmvqK0ZAToZBkFeZAzRVEIRXLdobJQeTeezFVjZAJpt4cZAWPp20f7KmqWJ1KyJdZCTeDrv67luUnOqtVpTfGvEKD8evpIH4epGEKVL2MFpfNRrUDT1g0uZCxD4ymaHV1qyJ4BkygVagu2a6PsM6qQJ5JgELnPZCHHWHF3K51ZBitfft3rcnV8O2DOVZAbpNvr2F1WxyKts0fmXkDwZDZD"
2021-09-22 16:26:59.856 +02:00 [INF] Sending HTTP request GET "https://graph.facebook.com/me?fields=id,name,email,picture&access_token=EAAHKCEbgzNIBAMhHhz1nKokVPptE5ALmvqK0ZAToZBkFeZAzRVEIRXLdobJQeTeezFVjZAJpt4cZAWPp20f7KmqWJ1KyJdZCTeDrv67luUnOqtVpTfGvEKD8evpIH4epGEKVL2MFpfNRrUDT1g0uZCxD4ymaHV1qyJ4BkygVagu2a6PsM6qQJ5JgELnPZCHHWHF3K51ZBitfft3rcnV8O2DOVZAbpNvr2F1WxyKts0fmXkDwZDZD"
2021-09-22 16:27:00.050 +02:00 [INF] Received HTTP response headers after 193.2701ms - 200
2021-09-22 16:27:00.050 +02:00 [INF] End processing HTTP request after 193.7027ms - 200
2021-09-22 16:27:00.056 +02:00 [INF] Entity Framework Core 5.0.8 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: DetailedErrorsEnabled 
2021-09-22 16:27:00.305 +02:00 [INF] Executed DbCommand (248ms) [Parameters=[@__loginProvider_0='?' (Size = 128), @__providerKey_1='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[LoginProvider], [a].[ProviderKey], [a].[ProviderDisplayName], [a].[UserId]
FROM [AspNetUserLogins] AS [a]
WHERE ([a].[LoginProvider] = @__loginProvider_0) AND ([a].[ProviderKey] = @__providerKey_1)
2021-09-22 16:27:00.518 +02:00 [INF] Executed DbCommand (171ms) [Parameters=[@__normalizedUserName_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedUserName] = @__normalizedUserName_0
2021-09-22 16:27:00.540 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-09-22 16:27:00.548 +02:00 [WRN] User validation failed: DuplicateEmail.
2021-09-22 16:27:00.550 +02:00 [ERR] Something went wrong in the registration.
2021-09-22 16:27:00.551 +02:00 [ERR] Email 'HowSad@yes.com' is already taken.//DuplicateEmail

2021-09-22 16:27:00.551 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'System.String'.
2021-09-22 16:27:00.552 +02:00 [INF] Executed action SpatulaApi.Controllers.Api.AccountController.RegisterFacebook (SpatulaApi) in 847.913ms
2021-09-22 16:27:00.552 +02:00 [INF] Executed endpoint 'SpatulaApi.Controllers.Api.AccountController.RegisterFacebook (SpatulaApi)'
2021-09-22 16:27:00.553 +02:00 [INF] Request finished HTTP/2 POST https://localhost:44345/api/Account/facebookregister?accessToken=EAAHKCEbgzNIBAMhHhz1nKokVPptE5ALmvqK0ZAToZBkFeZAzRVEIRXLdobJQeTeezFVjZAJpt4cZAWPp20f7KmqWJ1KyJdZCTeDrv67luUnOqtVpTfGvEKD8evpIH4epGEKVL2MFpfNRrUDT1g0uZCxD4ymaHV1qyJ4BkygVagu2a6PsM6qQJ5JgELnPZCHHWHF3K51ZBitfft3rcnV8O2DOVZAbpNvr2F1WxyKts0fmXkDwZDZD - 0 - 400 - text/plain;+charset=utf-8 850.6630ms
2021-09-22 16:29:06.870 +02:00 [INF] Application started
2021-09-22 16:29:10.208 +02:00 [INF] User profile is available. Using 'C:\Users\moh_a\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-22 16:29:11.234 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-22 16:29:11.235 +02:00 [INF] Hosting environment: Development
2021-09-22 16:29:11.235 +02:00 [INF] Content root path: C:\Users\moh_a\source\repos\Api\SpatulaApi
2021-09-22 16:29:11.342 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44345/swagger/index.html - -
2021-09-22 16:29:11.646 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44345/swagger/index.html - - - 200 - text/html;charset=utf-8 311.5903ms
2021-09-22 16:29:12.047 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44345/swagger/v1/swagger.json - -
2021-09-22 16:29:12.126 +02:00 [INF] Request starting HTTP/1.1 HEAD https://localhost:44345/ - -
2021-09-22 16:29:12.483 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44345/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 436.3024ms
2021-09-22 16:29:12.701 +02:00 [INF] Route matched with {action = "Index", controller = "Home", page = "", area = ""}. Executing controller action with signature Microsoft.AspNetCore.Mvc.IActionResult Index(System.String) on controller SpatulaApi.Controllers.HomeController (SpatulaApi).
2021-09-22 16:29:12.769 +02:00 [INF] Executing ViewResult, running view Index.
2021-09-22 16:29:13.134 +02:00 [INF] Executed ViewResult - view Index executed in 384.341ms.
2021-09-22 16:29:13.138 +02:00 [INF] Executed action SpatulaApi.Controllers.HomeController.Index (SpatulaApi) in 435.01ms
2021-09-22 16:29:13.146 +02:00 [INF] Request finished HTTP/1.1 HEAD https://localhost:44345/ - - - 200 - text/html;+charset=utf-8 1019.6270ms
2021-09-22 16:29:27.257 +02:00 [INF] Request starting HTTP/2 GET https://localhost:44345/api/Account/facebooklogin?accessToken=EAAHKCEbgzNIBAMhHhz1nKokVPptE5ALmvqK0ZAToZBkFeZAzRVEIRXLdobJQeTeezFVjZAJpt4cZAWPp20f7KmqWJ1KyJdZCTeDrv67luUnOqtVpTfGvEKD8evpIH4epGEKVL2MFpfNRrUDT1g0uZCxD4ymaHV1qyJ4BkygVagu2a6PsM6qQJ5JgELnPZCHHWHF3K51ZBitfft3rcnV8O2DOVZAbpNvr2F1WxyKts0fmXkDwZDZD - -
2021-09-22 16:29:27.282 +02:00 [INF] Executing endpoint 'SpatulaApi.Controllers.Api.AccountController.LoginFacebook (SpatulaApi)'
2021-09-22 16:29:27.309 +02:00 [INF] Route matched with {action = "LoginFacebook", controller = "Account", page = "", area = ""}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] LoginFacebook(System.String) on controller SpatulaApi.Controllers.Api.AccountController (SpatulaApi).
2021-09-22 16:29:28.408 +02:00 [INF] Start processing HTTP request GET "https://graph.facebook.com/debug_token?input_token=EAAHKCEbgzNIBAMhHhz1nKokVPptE5ALmvqK0ZAToZBkFeZAzRVEIRXLdobJQeTeezFVjZAJpt4cZAWPp20f7KmqWJ1KyJdZCTeDrv67luUnOqtVpTfGvEKD8evpIH4epGEKVL2MFpfNRrUDT1g0uZCxD4ymaHV1qyJ4BkygVagu2a6PsM6qQJ5JgELnPZCHHWHF3K51ZBitfft3rcnV8O2DOVZAbpNvr2F1WxyKts0fmXkDwZDZD&access_token=503611874397394|a704cac1e92bf9c748f6bee2664cda59"
2021-09-22 16:29:28.412 +02:00 [INF] Sending HTTP request GET "https://graph.facebook.com/debug_token?input_token=EAAHKCEbgzNIBAMhHhz1nKokVPptE5ALmvqK0ZAToZBkFeZAzRVEIRXLdobJQeTeezFVjZAJpt4cZAWPp20f7KmqWJ1KyJdZCTeDrv67luUnOqtVpTfGvEKD8evpIH4epGEKVL2MFpfNRrUDT1g0uZCxD4ymaHV1qyJ4BkygVagu2a6PsM6qQJ5JgELnPZCHHWHF3K51ZBitfft3rcnV8O2DOVZAbpNvr2F1WxyKts0fmXkDwZDZD&access_token=503611874397394|a704cac1e92bf9c748f6bee2664cda59"
2021-09-22 16:29:29.288 +02:00 [INF] Received HTTP response headers after 866.1051ms - 200
2021-09-22 16:29:29.291 +02:00 [INF] End processing HTTP request after 888.7465ms - 200
2021-09-22 16:29:29.678 +02:00 [INF] Start processing HTTP request GET "https://graph.facebook.com/me?fields=id,name,email,picture&access_token=EAAHKCEbgzNIBAMhHhz1nKokVPptE5ALmvqK0ZAToZBkFeZAzRVEIRXLdobJQeTeezFVjZAJpt4cZAWPp20f7KmqWJ1KyJdZCTeDrv67luUnOqtVpTfGvEKD8evpIH4epGEKVL2MFpfNRrUDT1g0uZCxD4ymaHV1qyJ4BkygVagu2a6PsM6qQJ5JgELnPZCHHWHF3K51ZBitfft3rcnV8O2DOVZAbpNvr2F1WxyKts0fmXkDwZDZD"
2021-09-22 16:29:29.678 +02:00 [INF] Sending HTTP request GET "https://graph.facebook.com/me?fields=id,name,email,picture&access_token=EAAHKCEbgzNIBAMhHhz1nKokVPptE5ALmvqK0ZAToZBkFeZAzRVEIRXLdobJQeTeezFVjZAJpt4cZAWPp20f7KmqWJ1KyJdZCTeDrv67luUnOqtVpTfGvEKD8evpIH4epGEKVL2MFpfNRrUDT1g0uZCxD4ymaHV1qyJ4BkygVagu2a6PsM6qQJ5JgELnPZCHHWHF3K51ZBitfft3rcnV8O2DOVZAbpNvr2F1WxyKts0fmXkDwZDZD"
2021-09-22 16:29:29.807 +02:00 [INF] Received HTTP response headers after 128.9974ms - 200
2021-09-22 16:29:29.807 +02:00 [INF] End processing HTTP request after 129.5913ms - 200
2021-09-22 16:29:32.216 +02:00 [INF] Entity Framework Core 5.0.8 initialized 'DatabaseContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: DetailedErrorsEnabled 
2021-09-22 16:29:33.989 +02:00 [INF] Executed DbCommand (133ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-09-22 16:29:34.419 +02:00 [INF] Executed DbCommand (76ms) [Parameters=[@__normalizedEmail_0='?' (Size = 256)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(2) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[FirstName], [a].[LastName], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName]
FROM [AspNetUsers] AS [a]
WHERE [a].[NormalizedEmail] = @__normalizedEmail_0
2021-09-22 16:29:34.742 +02:00 [INF] Executed DbCommand (129ms) [Parameters=[@__userId_0='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SELECT [a0].[Name]
FROM [AspNetUserRoles] AS [a]
INNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]
WHERE [a].[UserId] = @__userId_0
2021-09-22 16:29:35.061 +02:00 [INF] Executing AcceptedResult, writing value of type '<>f__AnonymousType3`3[[System.String, System.Private.CoreLib, Version=5.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[SpatulaApi.Data.ApiUser, SpatulaApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[SpatulaApi.ExternalContract.FacebookUserInfoResult, SpatulaApi, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2021-09-22 16:29:35.225 +02:00 [INF] Executed action SpatulaApi.Controllers.Api.AccountController.LoginFacebook (SpatulaApi) in 7915.7781ms
2021-09-22 16:29:35.227 +02:00 [INF] Executed endpoint 'SpatulaApi.Controllers.Api.AccountController.LoginFacebook (SpatulaApi)'
2021-09-22 16:29:35.243 +02:00 [INF] Request finished HTTP/2 GET https://localhost:44345/api/Account/facebooklogin?accessToken=EAAHKCEbgzNIBAMhHhz1nKokVPptE5ALmvqK0ZAToZBkFeZAzRVEIRXLdobJQeTeezFVjZAJpt4cZAWPp20f7KmqWJ1KyJdZCTeDrv67luUnOqtVpTfGvEKD8evpIH4epGEKVL2MFpfNRrUDT1g0uZCxD4ymaHV1qyJ4BkygVagu2a6PsM6qQJ5JgELnPZCHHWHF3K51ZBitfft3rcnV8O2DOVZAbpNvr2F1WxyKts0fmXkDwZDZD - - - 202 1691 application/json;+charset=utf-8 7986.5744ms
